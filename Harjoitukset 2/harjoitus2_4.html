<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Harjoitukset 2: Tehtävä 4</title>
</head>

<body>
    <form style="border: 1px dotted black; background: lightblue; width:300px;">
        <div id="laskin" style="margin: 20px;">
            <h1>Vauhtilaskin</h1>
            Tunnit: <input type="number" name="h"><br><br>
            Minuutit: <input type="number" name="min"><br><br>
            Sekunnit: <input type="number" name="sec"><br><br>
            Kilometrit: <input type="number" name="km"><br><br>
            <input type="button" style="background: blue; color: white; padding: 5 20px;" value="Laske vauhdit"
                onclick="VauhtiLaskin(h, min, sec, km)">
        </div>
        <div id="tulos"></div>
    </form>

    <script>
        /* 
            Toteuta JavaScriptillä oheisen kuvan mukainen vauhtilaskin. 
            Ohjelma laskee syötettyjen arvojen perusteella liikkujalle 
            sekä km/h- että min:sec/km-vauhdin. Tulokset näytetään kahden 
            desimaalin tarkkuudella. Lomakkeessa voi olla syötteille 
            sopivat oletusarvot ja niille ei tarvitse tehdä tarkistuksia. 
            Erikoisille syötteille ei tarvitse myöskään muotoilla 
            tulostuksia, vauhti voidaan tulostaa vaikka 3456:45/km 
            Toteutus tulee tehdä Vauhtilaskin-luokkana class-määreellä 
            määriteltynä. Syötetyt arvot tulee asettaa constructor-metodissa 
            luokasta luotavan olion ominaisuuksiksi. Vauhdit tulee laskea 
            metodeilla calcKmhPace() ja calcMinkmPace(). Vauhdit 
            palautetaan "getter"-metodeilla kmhpace() ja minkmpace(). 
            Käyttöliittymästä tulee löytyä oheisessa kuvassa nähdyt osat, 
            mutta ulkoasu on vapaa - halutessasi hyvin yksinkertainen.
            */

            // Vauhtilaskin-luokka
            class Vauhtilaskin {
                constructor(h, min, sec, km) {
                    this.tunnit = h;
                    this.minuutit = min;
                    this.sekunnit = sec;
                    this.kilometrit = km;
                }
                // Getters
                get kmhpace() {
                    return this.calcKmhPace();
                }
                get minkmpace() {
                    return this.calcKmhPace();
                }
 
                // Metodit
                calcKmhPace(h, min, sec, km) {
                    let hours = parseInt(h) + (parseInt(min) * 60 + parseInt(sec)) / 3600;
                    let kmh = km / hours;
                    return kmh;
                }
                calcMinkmPace(h, min, sec, km) {
                    let seconds = parseInt(h) * 60 * 60 + parseInt(min) * 60 + parseInt(sec);
                    let sekunnitPerKm = seconds / km;

                    let minutes = 0;

                    while (seconds >= 60) {

                        minutes++;
                        seconds = seconds - 60;
                    }
                    seconds = Math.round(seconds);
                    seconds = String('0' + seconds).slice(-2);
                    return sekunnitPerKm;
                }
            };

            let h;
            let min;
            let sec;
            let km;
            const vauhti = new Vauhtilaskin(h, min, sec, km);

            console.log(this.tunnit);
            /*console.log(vauhti.kmhpace);
            console.log(vauhti.minkmpace);
            let arvot = ` 
                <p>${vauhti.kmhpace} km/h <br>
                ${vauhti.minkmpace} /km</p>
            `;
            return arvot;*/

            // kmh-laskentaa 
            /*let tunnit = parseInt(h) + (parseInt(min) * 60 + parseInt(sec)) / 3600;
            let kmh = kilometrit / tunnit;

            // min.sec/km-laskentaa 
            let sekunnit = parseInt(h) * 60 * 60 + parseInt(min) * 60 + parseInt(sec);
            sekunnitPerKm = sekunnit / km;

            let minutes = 0;

            while (sekunnit >= 60) {
                minutes++;
                sekunnit = sekunnit - 60;
            }
            sekunnit = Math.round(sekunnit);
            sekunnit = String('0' + sekunnit).slice(-2);*/

        //let arvot = "";
        let p = document.getElementById("tulos");
        p.innerHTML = Vauhtilaskin.kmhpace;
    </script>
</body>

</html>